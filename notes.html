<!-- 先在notes.html的<head>里引入markdown渲染库（之前没加的话补上） -->
<head>
  <!-- 其他样式代码... -->
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>

<!-- 然后在notes.html的“笔记列表区域”添加这篇笔记的入口 -->
<div class="notes-list">
  <h3>我的笔记</h3>
  <div id="notes-container">
    <!-- 新增这篇RCE笔记的条目 -->
    <div class="note-item">
      <h4>关于RCE、命令注入的三道题</h4>
      <span class="note-time">2025-12-17 （你创建的时间）</span>
      <!-- 用哈希传递MD文件名，避免跳转到新页面 -->
      <a href="#关于RCE、命令注入的三道题.md" class="note-link" style="color: #ff69b4; text-decoration: underline;">点击查看笔记内容</a>
    </div>

    <!-- 其他笔记条目... -->
  </div>

  <!-- 新增：MD笔记内容渲染容器（点击链接后显示） -->
  <div id="md-content-container" style="margin-top: 2rem; padding: 2rem; background: rgba(255,255,255,0.05); border-radius: 12px; display: none;">
    <h3 id="md-title" style="color: #ff69b4; margin-bottom: 1rem;"></h3>
    <div id="md-content" style="color: #eee; line-height: 1.8;"></div>
    <button id="hide-md-btn" style="margin-top: 1.5rem; background: #ff69b4; color: #000; border: none; padding: 0.8rem 1.5rem; border-radius: 8px; cursor: pointer;">关闭笔记</button>
  </div>
</div>

<!-- 最后在notes.html的<script>里添加渲染MD的逻辑 -->
<script>
  // 之前的笔记代码...

  // 新增：处理MD笔记的显示/渲染
  document.querySelectorAll('.note-link').forEach(link => {
    link.addEventListener('click', (e) => {
      e.preventDefault();
      const mdFileName = e.target.getAttribute('href').slice(1); // 获取MD文件名（去掉#）
      const mdTitle = e.target.closest('.note-item').querySelector('h4').textContent; // 获取笔记标题

      // 显示MD容器，设置标题
      document.getElementById('md-content-container').style.display = 'block';
      document.getElementById('md-title').textContent = mdTitle;

      // 加载并渲染MD文件
      fetch(mdFileName)
        .then(res => {
          if (!res.ok) throw new Error('笔记文件未找到');
          return res.text();
        })
        .then(mdContent => {
          document.getElementById('md-content').innerHTML = marked.parse(mdContent); // 渲染MD为HTML
        })
        .catch(err => {
          document.getElementById('md-content').innerHTML = `<p style="color: #ff6b6b;">${err.message}</p>`;
        });
    });
  });

  // 新增：关闭MD笔记容器
  document.getElementById('hide-md-btn').addEventListener('click', () => {
    document.getElementById('md-content-container').style.display = 'none';
  });
</script>
